import { NextResponse } from 'next/server';import { prisma } from '@/lib/prisma';export async function GET(req:Request){const {searchParams}=new URL(req.url);const userId=searchParams.get('userId')||'';if(!userId)return NextResponse.json([]);const tx=await prisma.transaction.findMany({where:{userId},orderBy:{date:'desc'}});return NextResponse.json(tx);}export async function POST(req:Request){const b=await req.json();const t=await prisma.transaction.create({data:{userId:b.userId,type:b.type,category:b.category,amount:Number(b.amount),currency:b.currency,date:new Date(b.date),note:b.note||null}});return NextResponse.json(t);}